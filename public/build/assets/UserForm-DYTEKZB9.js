import{j as s}from"./app-7S0IvfXM.js";import{u,a as h,b,F as f,c as S,d as w,o as m,i,j as l,n,s as r}from"./schemas-Bx23NZdd.js";import{B as x}from"./button-BH62A4sc.js";import{p as y}from"./index-BVuFwbu2.js";import{s as F}from"./index-CIMTcCMP.js";/* empty css            */import"./label-C6A98eso.js";import"./index-Cg_XSBXx.js";import"./input-DCCg4ePO.js";import"./x-BUzqK8FA.js";import"./index-DCNdabHz.js";import"./index-CQ3yH5KI.js";import"./search-C_klZX8O.js";import"./loader-circle-CNlyOsTx.js";import"./check-CSvI5JVD.js";import"./badge-DhYCrZMj.js";import"./index-CMWG4mbA.js";const j=m({name:r().min(2,"Name must be at least 2 characters").max(50,"Name must be at most 50 characters"),email:r().email("Please enter a valid email address"),password:r().optional(),roles:i(l([n(),r().transform(e=>parseInt(e,10))])).optional()}),g=m({name:r().min(2,"Name must be at least 2 characters").max(50,"Name must be at most 50 characters"),email:r().email("Please enter a valid email address"),password:r().min(8,"Password must be at least 8 characters"),roles:i(l([n(),r().transform(e=>parseInt(e,10))])).optional()}),v=[{name:"name",label:"Name",type:"text",placeholder:{create:"Enter name",edit:"Enter name"},description:{create:"This is the user's display name.",edit:"This is the user's display name."}},{name:"email",label:"Email",type:"email",placeholder:{create:"user@example.com",edit:"user@example.com"},description:{create:"Enter the user's email address.",edit:"Enter the user's email address."}},{name:"password",label:"Password",type:"password",placeholder:{create:"Enter password",edit:"Leave blank to keep current password"},description:{create:"Enter the user's password (minimum 8 characters).",edit:"Leave empty to keep the current password, or enter a new one to change it."},optional:!0},{name:"roles",label:"Roles",type:"multi-select",placeholder:{create:"Select roles",edit:"Select roles"},description:{create:"Assign roles to the user.",edit:"Modify the user roles as needed."},optional:!0,searchUrl:y({query:{format:"combobox"}}).url,show:5}],H=({data:e,isEdit:o=!1,onSubmit:p,submitButtonText:c="Submit"})=>{const a=u({resolver:h(o?j:g),defaultValues:{name:e?.name||"",email:e?.email||"",password:e?.password||"",roles:e?.roles?.map(t=>t.id)||void 0}}),{handleSubmit:d}=b({onSubmit:p,isEdit:o,entityId:e?.id,entityPath:F().url});return s.jsx(f,{...a,children:s.jsxs("form",{onSubmit:a.handleSubmit(d),className:"space-y-8",children:[s.jsx(S,{children:v.map(t=>s.jsx(w,{control:a.control,fieldConfig:t,isEdit:o,errors:a.formState.errors},t.name))}),s.jsx(x,{type:"submit",disabled:a.formState.isSubmitting,children:a.formState.isSubmitting?"Saving...":c})]})})};export{H as default};
