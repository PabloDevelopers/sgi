import{u as h,j as s}from"./app-BcvuFBWH.js";import{u as x,a as S,b as f,F as b,c as g,d as F,o as a,n as m,s as r}from"./schemas-CkzT2Vlf.js";import{B as y}from"./createLucideIcon-CBT5eOBL.js";import{s as T}from"./index-D5lqPf7A.js";/* empty css            */import"./label-DxIR66eV.js";import"./index-DPkteDFX.js";import"./input-CHNrW7v3.js";import"./index-Bkdq0nsS.js";import"./index-CjEWU8bI.js";import"./chevrons-up-down-BXCM8y_o.js";import"./loader-circle-B4dRjf6x.js";import"./check-B5wC2Dh8.js";import"./index-CMWG4mbA.js";const j=a({name:r().min(2).max(255),slug:r().min(2).max(255),text:r().optional(),user_id:m()}),E=a({name:r().min(2).max(255),slug:r().min(2).max(255),text:r().optional(),user_id:m()}),N=e=>[{name:"name",label:"Name",type:"text",placeholder:{create:"Enter Name",edit:"Enter Name"},description:{create:"This is the Name field.",edit:"This is the Name field."}},{name:"slug",label:"Slug (read-only)",type:"text",readOnly:!0,placeholder:{create:"Enter Slug",edit:"Enter Slug"},description:{create:"This is the Slug field.",edit:"This is the Slug field."}},{name:"text",label:"Text",type:"text",placeholder:{create:"Enter Text",edit:"Enter Text"},description:{create:"This is the Text field.",edit:"This is the Text field."}},{name:"user_id",label:"User id",type:"select",placeholder:{create:"Select a user",edit:"Select a user"},description:{create:"Search and select a user.",edit:"Search and select a user."},options:e,searchUrl:"/global/post/search-users",onEditReadOnly:!0,colspan:3}],z=({data:e,isEdit:i=!1,onSubmit:n,submitButtonText:l="Submit"})=>{const{props:c}=h(),d=c.users||[],u=N(d),t=x({resolver:S(i?j:E),defaultValues:{name:e?.name||"",slug:e?.slug||crypto.randomUUID(),text:e?.text||"",user_id:e?.user_id||void 0}}),{handleSubmit:p}=f({onSubmit:n,isEdit:i,entityId:e?.id,entityPath:T().url});return s.jsx(b,{...t,children:s.jsxs("form",{onSubmit:t.handleSubmit(p),className:"space-y-8",children:[s.jsx(g,{children:u.map(o=>s.jsx(F,{control:t.control,fieldConfig:o,isEdit:i,errors:t.formState.errors},o.name))}),s.jsx(y,{type:"submit",disabled:t.formState.isSubmitting,children:t.formState.isSubmitting?"Saving...":l})]})})};export{z as default};
