import{r as e,b as a}from"./app-DW3Av2Eb.js";const T=(o,l)=>{const[u,f]=e.useState(null),[i,r]=e.useState(!0),[h,c]=e.useState(null),[g,d]=e.useState(0),n=""+o,b=e.useCallback(()=>{d(t=>t+1)},[]);return e.useEffect(()=>{const t=a.CancelToken.source();return(async()=>{r(!0),c(null);try{const s=await a(n,{cancelToken:t.token,...l});f(s.data)}catch(s){if(a.isCancel(s))return;c(s)}finally{r(!1)}})(),()=>{t.cancel("Request cancelled")}},[n,g]),{data:u,loading:i,error:h,refetch:b}};export{T as u};
