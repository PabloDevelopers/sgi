import{u as S,j as s}from"./app-DW3Av2Eb.js";import{u as x,a as f,b as g,F as y,c as F,d as T,o as l,i as n,n as o,s as t,j as c}from"./schemas-B-jbCpVT.js";import{B as j}from"./button-Dvc0PO4U.js";import{p as m}from"./index-CNDs_r2w.js";import{s as E}from"./index-53KoLe1f.js";/* empty css            */import"./label-CzSC9T64.js";import"./index-D6mpZwgE.js";import"./input-CY8-wQER.js";import"./x-DE0DBDBk.js";import"./index-CDpx_pJS.js";import"./index-E_iDZ9Uz.js";import"./search-BfV3MeGS.js";import"./loader-circle-CqYaMYho.js";import"./check-BYHWwYmf.js";import"./badge-C3dMOb26.js";import"./index-CMWG4mbA.js";const N=l({name:t().min(2).max(255),slug:t().min(2).max(255),text:t().optional(),user_id:o(),colaborators:n(c([o(),t().transform(e=>parseInt(e,10))])).optional()}),U=l({name:t().min(2).max(255),slug:t().min(2).max(255),text:t().optional(),user_id:o(),colaborators:n(c([o(),t().transform(e=>parseInt(e,10))])).optional()}),I=[{name:"name",label:"Name",type:"text",placeholder:{create:"Enter Name",edit:"Enter Name"},description:{create:"This is the Name field.",edit:"This is the Name field."}},{name:"slug",label:"Slug",type:"text",placeholder:{create:"Enter Slug",edit:"Enter Slug"},description:{create:"This is the Slug field.",edit:"This is the Slug field."},onEditDisabled:!0,readOnly:!0},{name:"text",label:"Text",type:"text",placeholder:{create:"Enter Text",edit:"Enter Text"},description:{create:"This is the Text field.",edit:"This is the Text field."}},{name:"user_id",label:"User id",type:"select",placeholder:{create:"Search user...",edit:"Search user..."},description:{create:"Search and select a user.",edit:"Search and select a user."},searchUrl:m().url,show:5},{name:"colaborators",label:"Colaborators",type:"multi-select",placeholder:{create:"Search user...",edit:"Search user..."},description:{create:"Search and select a user.",edit:"Search and select a user."},searchUrl:m({query:{format:"combobox"}}).url,show:5}],K=({data:e,isEdit:i=!1,onSubmit:u,submitButtonText:d="Submit"})=>{const p=i?N:U,{auth:h}=S().props,r=x({resolver:f(p),defaultValues:{name:e?.name||"",slug:e?.slug||crypto.randomUUID(),text:e?.text||"",user_id:e?.user?.id||h.user.id,colaborators:e?.details?e.details.map(a=>a.colaborator?.id).filter(a=>typeof a=="number"):[]}}),{handleSubmit:b}=g({onSubmit:u,isEdit:i,entityId:e?.id,entityPath:E().url});return s.jsx(y,{...r,children:s.jsxs("form",{onSubmit:r.handleSubmit(b),className:"space-y-8",children:[s.jsx(F,{children:I.map(a=>s.jsx(T,{control:r.control,fieldConfig:a,isEdit:i,errors:r.formState.errors},a.name))}),s.jsx(j,{type:"submit",disabled:r.formState.isSubmitting,children:r.formState.isSubmitting?"Saving...":d})]})})};export{K as default};
